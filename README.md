# æŠ¥é”€åŠ©æ‰‹

> ä¸€æ¬¾åŸºäº AI çš„æ™ºèƒ½å‘ç¥¨è¯†åˆ«ä¸æŠ¥é”€æ•´ç†å·¥å…·ï¼Œè®©æŠ¥é”€ä»æ­¤å‘Šåˆ«ç¹çã€‚

[![GitHub release](https://img.shields.io/badge/ä¸‹è½½-æ¡Œé¢ç‰ˆ-blue)](https://github.com/frankfika/ExpenseReimbursement/releases)
[![license](https://img.shields.io/badge/license-MIT-green)](LICENSE)

## å®ƒèƒ½å¸®ä½ åšä»€ä¹ˆï¼Ÿ

æ¯æ¬¡å‡ºå·®å›æ¥ï¼Œé¢å¯¹ä¸€å †å‘ç¥¨æ˜¯ä¸æ˜¯å¾ˆå¤´ç–¼ï¼Ÿæ‰“è½¦ç¥¨ã€ç«è½¦ç¥¨ã€é…’åº—å‘ç¥¨ã€é¤é¥®å‘ç¥¨æ··åœ¨ä¸€èµ·ï¼Œè¿˜è¦ä¸€å¼ å¼ æ ¸å¯¹é‡‘é¢ã€åˆ†ç±»æ•´ç†ã€åˆ¶ä½œæŠ¥é”€å•...

**æŠ¥é”€åŠ©æ‰‹**å¸®ä½ è‡ªåŠ¨å®Œæˆè¿™ä¸€åˆ‡ï¼š

1. **æ‰”è¿›å»** â€” æŠŠæ‰€æœ‰å‘ç¥¨æ‰”è¿›å»
2. **ç­‰ä¸€ä¸‹** â€” è‡ªåŠ¨è¯†åˆ«åˆ†ç±»
3. **æ‹¿ç»“æœ** â€” åˆ†ç±»å¥½çš„æ–‡ä»¶å¤¹ + Excel æŠ¥è¡¨

## ç•Œé¢é¢„è§ˆ

### æ¡Œé¢ç‰ˆ
![æ¡Œé¢ç‰ˆ](screenshots/desktop.png)

å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€çª—å£ï¼Œæ‹–æ‹½å‘ç¥¨æ–‡ä»¶å³å¯å¤„ç†ã€‚

### ç½‘é¡µç‰ˆ
![ç½‘é¡µç‰ˆ](screenshots/web.png)

æµè§ˆå™¨è®¿é—®ï¼Œæ”¯æŒæ‰¹é‡ä¸Šä¼ ï¼Œå¤„ç†å®Œä¸‹è½½ ZIP ç»“æœåŒ…ã€‚

### æŠ¥è¡¨è¾“å‡º
![æŠ¥è¡¨](screenshots/report.png)

è‡ªåŠ¨ç”Ÿæˆ Excelï¼ŒåŒ…å«æ±‡æ€»è¡¨å’Œæ˜ç»†è¡¨ã€‚

---

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ” æ™ºèƒ½è¯†åˆ«
- æ”¯æŒå›¾ç‰‡ï¼ˆJPG/PNGï¼‰å’Œ PDF æ ¼å¼
- è‡ªåŠ¨è¯†åˆ«æ‰«æä»¶å’Œç”µå­å‘ç¥¨
- æå–å‘ç¥¨é‡‘é¢ã€æ—¥æœŸã€å•†å®¶ã€å‘ç¥¨å·ç­‰å…³é”®ä¿¡æ¯

### ğŸ“‚ è‡ªåŠ¨åˆ†ç±»
| ç±»åˆ« | è¯†åˆ«èŒƒå›´ |
|:---|:---|
| ğŸš• æ‰“è½¦ç¥¨ | æ»´æ»´ã€é«˜å¾·ã€ç¾å›¢æ‰“è½¦ã€æ›¹æ“ã€é¦–æ±½ã€å‡ºç§Ÿè½¦ |
| ğŸš„ ç«è½¦é£æœºç¥¨ | 12306ã€å„èˆªç©ºå…¬å¸ã€æºç¨‹ã€é£çŒª |
| ğŸ¨ ä½å®¿è´¹ | é…’åº—ã€å®¾é¦†ã€æ°‘å®¿ï¼ˆå¦‚å®¶ã€æ±‰åº­ã€äºšæœµç­‰ï¼‰ |
| ğŸœ é¤è´¹ | é¤å…ã€å¤–å–ã€ç¾å›¢ã€é¥¿äº†ä¹ˆ |
| ğŸ“¦ å…¶ä»– | æœªèƒ½è¯†åˆ«çš„å‘ç¥¨ |

### ğŸ”— æ™ºèƒ½é…å¯¹
å‡ºå·®æ‰“è½¦ç»å¸¸ä¼šæœ‰ã€Œè¡Œç¨‹å• + å‘ç¥¨ã€ä¸¤ä»½æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é…å¯¹ï¼š
- è¯†åˆ«åŒä¸€å¹³å°çš„å‡­è¯å’Œå‘ç¥¨
- åŒ¹é…ç›¸è¿‘æ—¥æœŸï¼ˆÂ±1å¤©ï¼‰
- åŒ¹é…ç›¸è¿‘é‡‘é¢ï¼ˆÂ±5%ï¼‰
- é…å¯¹åæ”¾å…¥åŒä¸€æ–‡ä»¶å¤¹ï¼Œæ–¹ä¾¿æ ¸å¯¹

### ğŸ“Š æŠ¥è¡¨ç”Ÿæˆ
è‡ªåŠ¨ç”Ÿæˆ Excel æŠ¥è¡¨ï¼š
- æ±‡æ€»è¡¨ï¼šå„ç±»åˆ«å°è®¡ + æ€»é‡‘é¢
- æ˜ç»†è¡¨ï¼šæ¯å¼ å‘ç¥¨çš„è¯¦ç»†ä¿¡æ¯
- ç›´æ¥ç”¨äºæŠ¥é”€ï¼Œæ— éœ€äºŒæ¬¡æ•´ç†

---

## å¿«é€Ÿå¼€å§‹

### æ¡Œé¢ç‰ˆï¼ˆæ¨èï¼‰

**æ— éœ€å®‰è£… Pythonï¼Œå¼€ç®±å³ç”¨ï¼**

1. è®¿é—® [Releases é¡µé¢](https://github.com/frankfika/ExpenseReimbursement/releases) ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
2. ä¸‹è½½å¯¹åº”å¹³å°å®‰è£…åŒ…ï¼š

| å¹³å° | æ–‡ä»¶å | å¤§å° |
|:---|:---|:---|
| macOS | `æŠ¥é”€åŠ©æ‰‹-x.x.x.dmg` | ~300 MB |
| Windows | `ExpenseHelper-x.x.x-windows.exe` | ~150 MB |

3. **macOS**: åŒå‡» DMGï¼Œå°†åº”ç”¨æ‹–åˆ° Applications æ–‡ä»¶å¤¹
4. **Windows**: åŒå‡» EXEï¼ŒæŒ‰æç¤ºå®‰è£…

é¦–æ¬¡è¿è¡Œä¼šå¼•å¯¼é…ç½® API Keyï¼ˆåªéœ€é…ç½®ä¸€æ¬¡ï¼‰ã€‚

### å¼€å‘ç‰ˆ

```bash
# å®‰è£…ä¾èµ–
pip3 install -r requirements.txt

# å¯åŠ¨æ¡Œé¢ç‰ˆ
python3 main.py

# å¯åŠ¨ç½‘é¡µç‰ˆ
python3 main.py --web

# å¯åŠ¨å‘½ä»¤è¡Œç‰ˆ
python3 main.py --cli -i ./å‘ç¥¨ -o ./æŠ¥é”€ç»“æœ
```

---

## é…ç½®è¯´æ˜

### API Key

ç¨‹åºä½¿ç”¨ [ç¡…åŸºæµåŠ¨](https://cloud.siliconflow.cn/i/Wd45d1wI) æä¾›çš„å¤§æ¨¡å‹ APIï¼ˆæ³¨å†Œå¯è·å¾—é¢å¤–é¢åº¦ï¼‰ã€‚

**è·å–æ­¥éª¤ï¼š**
1. è®¿é—® https://cloud.siliconflow.cn/i/Wd45d1wI æ³¨å†Œ/ç™»å½•
2. ç‚¹å‡»å·¦ä¾§èœå•ã€ŒAPI å¯†é’¥ã€
3. ç‚¹å‡»ã€Œæ–°å»º API å¯†é’¥ã€ï¼Œå¤åˆ¶ç”Ÿæˆçš„å¯†é’¥

é¦–æ¬¡è¿è¡Œç¨‹åºæ—¶ä¼šæç¤ºè¾“å…¥ API Keyï¼Œé…ç½®åè‡ªåŠ¨ä¿å­˜ï¼Œæ— éœ€é‡å¤è¾“å…¥ã€‚

---

## ä½¿ç”¨æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸Šä¼ å‘ç¥¨    â”‚ â†’  â”‚  AIè¯†åˆ«åˆ†ç±»  â”‚ â†’  â”‚  ä¸‹è½½ç»“æœ    â”‚
â”‚ (æ‹–æ‹½/é€‰æ‹©)  â”‚    â”‚  (è‡ªåŠ¨é…å¯¹)  â”‚    â”‚  (ZIP+Excel) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¾“å‡ºç»“æœç»“æ„ï¼š**
```
æŠ¥é”€ç»“æœ_20240114/
â”œâ”€â”€ æ‰“è½¦ç¥¨/
â”‚   â””â”€â”€ 2024-01-15_æ»´æ»´å‡ºè¡Œ_35.00å…ƒ/
â”‚       â”œâ”€â”€ 01_å‡­è¯_æ»´æ»´å‡ºè¡Œ_35.00å…ƒ.jpg
â”‚       â””â”€â”€ 02_å‘ç¥¨_æ»´æ»´å‡ºè¡Œ_35.00å…ƒ.pdf
â”œâ”€â”€ ç«è½¦é£æœºç¥¨/
â”œâ”€â”€ ä½å®¿è´¹/
â”œâ”€â”€ é¤è´¹/
â”œâ”€â”€ å…¶ä»–/
â””â”€â”€ æŠ¥é”€ç»Ÿè®¡_20240114.xlsx
```

---

## é¡¹ç›®ç»“æ„

```
æŠ¥é”€/
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ VERSION                # å½“å‰ç‰ˆæœ¬å·
â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ main.py                # ç»Ÿä¸€å…¥å£
â”‚
â”œâ”€â”€ app/                   # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ ocr.py             # OCR æ–‡å­—è¯†åˆ«
â”‚   â”œâ”€â”€ analyzer.py        # AI å‘ç¥¨åˆ†æ
â”‚   â”œâ”€â”€ organizer.py       # æ–‡ä»¶åˆ†ç±»æ•´ç†
â”‚   â””â”€â”€ report.py          # Excel æŠ¥è¡¨ç”Ÿæˆ
â”‚
â”œâ”€â”€ web/                   # ç½‘é¡µèµ„æº
â”‚   â”œâ”€â”€ templates/         # HTML æ¨¡æ¿
â”‚   â””â”€â”€ static/            # CSS æ ·å¼
â”‚
â”œâ”€â”€ build/                 # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.sh           # è‡ªåŠ¨æ„å»º
â”‚   â”œâ”€â”€ build_mac.sh       # æ‰‹åŠ¨æ„å»º
â”‚   â””â”€â”€ build_mac.spec     # PyInstaller é…ç½®
â”‚
â”œâ”€â”€ releases/              # æœ¬åœ°æ„å»ºäº§ç‰©
â”‚   â””â”€â”€ v1.0.0/            # æŒ‰ç‰ˆæœ¬å·ç»„ç»‡
â”‚       â”œâ”€â”€ æŠ¥é”€åŠ©æ‰‹-1.0.0.dmg
â”‚       â””â”€â”€ æŠ¥é”€åŠ©æ‰‹-1.0.0.exe
â”‚
â””â”€â”€ screenshots/           # ç•Œé¢æˆªå›¾
```

---

## å¼€å‘æŒ‡å—

### ç‰ˆæœ¬ç®¡ç†

é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š

| ç±»å‹ | ç¤ºä¾‹ | è¯´æ˜ |
|:---|:---|:---|
| å°æ›´æ–° | 1.0.0 â†’ 1.0.1 | bugä¿®å¤ã€å°æ”¹è¿› |
| ä¸­æ›´æ–° | 1.0.0 â†’ 1.1.0 | æ–°å¢åŠŸèƒ½ |
| å¤§ç‰ˆæœ¬ | 1.0.0 â†’ 2.0.0 | é‡å¤§å˜æ›´ã€ä¸å…¼å®¹ |

**å‘å¸ƒæ–°ç‰ˆæœ¬ï¼ˆè‡ªåŠ¨æ„å»ºï¼‰ï¼š**
```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·
echo '1.0.1' > VERSION

# 2. æäº¤å¹¶æ‰“ tag
git add VERSION
git commit -m "bump: v1.0.1"
git tag v1.0.1
git push origin main --tags

# 3. GitHub Actions è‡ªåŠ¨æ„å»ºå¹¶åˆ›å»º Release
#    è®¿é—® https://github.com/frankfika/ExpenseReimbursement/releases æŸ¥çœ‹ç»“æœ
```

**æœ¬åœ°æ„å»ºæµ‹è¯•ï¼š**
```bash
# macOS
./build/build_mac.sh

# Windows (æ‰‹åŠ¨)
pyinstaller --clean --onefile --windowed --name "æŠ¥é”€åŠ©æ‰‹" ...
```

### æ„å»ºæ¡Œé¢ç‰ˆ

**macOS:**
```bash
./build/build_mac.sh
```

**Windows:**
```bash
pyinstaller --clean --onefile --windowed ^
  --name "æŠ¥é”€åŠ©æ‰‹" ^
  --add-data "web/templates;web/templates" ^
  --add-data "web/static;web/static" ^
  --hidden-import webview ^
  --hidden-import flask ^
  --hidden-import paddleocr ^
  desktop_app.py
```

---

## å¸¸è§é—®é¢˜

<details>
<summary><b>Q: é¦–æ¬¡è¿è¡Œå¾ˆæ…¢ï¼Ÿ</b></summary>

é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½ PaddleOCR æ¨¡å‹ï¼ˆçº¦ 100MBï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚åç»­è¿è¡Œä¼šå¾ˆå¿«ã€‚
</details>

<details>
<summary><b>Q: è¯†åˆ«ä¸å‡†ç¡®æ€ä¹ˆåŠï¼Ÿ</b></summary>

- ç¡®ä¿å›¾ç‰‡æ¸…æ™°ã€å…‰çº¿å……è¶³
- æ‰«æä»¶æ¯”æ‰‹æœºæ‹ç…§æ•ˆæœæ›´å¥½
- ç”µå­ PDF å‘ç¥¨è¯†åˆ«ç‡æœ€é«˜
</details>

<details>
<summary><b>Q: API è°ƒç”¨å¤±è´¥ï¼Ÿ</b></summary>

1. æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
3. ç¡®è®¤ç¡…åŸºæµåŠ¨è´¦æˆ·ä½™é¢å……è¶³
</details>

<details>
<summary><b>Q: å¦‚ä½•é‡æ–°é…ç½® API Keyï¼Ÿ</b></summary>

åˆ é™¤é¡¹ç›®ç›®å½•ä¸‹çš„ `.env` æ–‡ä»¶ï¼Œé‡æ–°è¿è¡Œç¨‹åºå³å¯é‡æ–°é…ç½®ã€‚
</details>

---

## æŠ€æœ¯æ ˆ

- **OCR**: [PaddleOCR](https://github.com/PaddlePaddle/PaddleOCR) - ä¸­æ–‡ OCR
- **PDF**: [PyMuPDF](https://pymupdf.readthedocs.io/) - PDF è§£æ
- **AI**: [ç¡…åŸºæµåŠ¨](https://cloud.siliconflow.cn) - å¤§æ¨¡å‹ API
- **Web**: [Flask](https://flask.palletsprojects.com/) - Web æ¡†æ¶
- **æ¡Œé¢**: [PyWebView](https://pywebview.flowrl.com/) - æ¡Œé¢åŒ…è£…

---

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-12)
- é¦–æ¬¡å‘å¸ƒ
- æ”¯æŒå‘ç¥¨è¯†åˆ«ã€è‡ªåŠ¨åˆ†ç±»ã€æ™ºèƒ½é…å¯¹
- æ”¯æŒæ¡Œé¢ç‰ˆã€ç½‘é¡µç‰ˆã€å‘½ä»¤è¡Œç‰ˆ
- è‡ªåŠ¨ç”Ÿæˆ Excel æŠ¥è¡¨

---

## è®¸å¯è¯

MIT License
